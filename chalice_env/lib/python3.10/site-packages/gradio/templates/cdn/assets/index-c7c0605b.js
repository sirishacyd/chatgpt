import{S as ee,i as le,s as te,ac as ne,H as D,f as pe,g as B,J as R,p,l as J,t as z,o as K,q as C,r as ye,e as I,m as L,n as N,W as ze,b as U,G as A,C as b,P as j,E as y,aj as Ge,N as ie,L as H,D as V,a4 as je,I as se,K as ae,x as Ae,a2 as Be,h as Ce,j as De,y as Ee}from"./index-f2aa5b83.js";import{g as Ie,a as Le}from"./Empty.svelte_svelte_type_style_lang-28ad0ce0.js";import{B as Ne}from"./BlockLabel-ab6dc1b2.js";import{E as qe}from"./Empty-d7529a6d.js";import{n as W}from"./ModifyUpload.svelte_svelte_type_style_lang-886b042e.js";import{M as He}from"./ModifyUpload-5734109e.js";/* empty css                                                    */import{I as oe}from"./Image-e6b88bca.js";function F(l,t,e){const n=l.slice();return n[31]=t[e][0],n[32]=t[e][1],n[34]=e,n}function O(l,t,e){const n=l.slice();return n[31]=t[e],n[35]=t,n[34]=e,n}function Q(l){let t,e;return t=new Ne({props:{show_label:l[0],Icon:oe,label:l[1]||"Gallery",disable:typeof l[3].container=="boolean"&&!l[3].container}}),{c(){I(t.$$.fragment)},m(n,i){L(t,n,i),e=!0},p(n,i){const o={};i[0]&1&&(o.show_label=n[0]),i[0]&2&&(o.label=n[1]||"Gallery"),i[0]&8&&(o.disable=typeof n[3].container=="boolean"&&!n[3].container),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){z(t.$$.fragment,n),e=!1},d(n){N(t,n)}}}function Re(l){let t,e,n,i,o,g=l[4]!==null&&X(l),f=l[7],s=[];for(let a=0;a<f.length;a+=1)s[a]=x(F(l,f,a));return{c(){g&&g.c(),t=D(),e=A("div"),n=A("div");for(let a=0;a<s.length;a+=1)s[a].c();b(n,"class","grid-container svelte-ftra1b"),b(n,"style",l[10]),j(n,"pt-6",l[0]),b(e,"class","grid-wrap svelte-ftra1b"),ne(()=>l[26].call(e)),j(e,"fixed-height",!l[3].height||l[3].height=="auto")},m(a,c){g&&g.m(a,c),B(a,t,c),B(a,e,c),y(e,n);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);i=Ge(e,l[26].bind(e)),o=!0},p(a,c){if(a[4]!==null?g?(g.p(a,c),c[0]&16&&p(g,1)):(g=X(a),g.c(),p(g,1),g.m(t.parentNode,t)):g&&(J(),z(g,1,1,()=>{g=null}),K()),c[0]&2192){f=a[7];let m;for(m=0;m<f.length;m+=1){const u=F(a,f,m);s[m]?s[m].p(u,c):(s[m]=x(u),s[m].c(),s[m].m(n,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=f.length}(!o||c[0]&1024)&&b(n,"style",a[10]),(!o||c[0]&1)&&j(n,"pt-6",a[0]),(!o||c[0]&8)&&j(e,"fixed-height",!a[3].height||a[3].height=="auto")},i(a){o||(p(g),o=!0)},o(a){z(g),o=!1},d(a){g&&g.d(a),a&&C(t),a&&C(e),ie(s,a),i()}}}function Se(l){let t,e;return t=new qe({props:{size:"large",unpadded_box:!0,$$slots:{default:[Me]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},m(n,i){L(t,n,i),e=!0},p(n,i){const o={};i[1]&32&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){z(t.$$.fragment,n),e=!1},d(n){N(t,n)}}}function X(l){let t,e,n,i,o,g,f,s,a,c,m,u,d;e=new He({}),e.$on("clear",l[20]);let _=l[7][l[4]][1]&&Y(l),G=l[7],k=[];for(let r=0;r<G.length;r+=1)k[r]=Z(O(l,G,r));return{c(){t=A("div"),I(e.$$.fragment),n=D(),i=A("img"),s=D(),_&&_.c(),a=D(),c=A("div");for(let r=0;r<k.length;r+=1)k[r].c();H(i.src,o=l[7][l[4]][0].data)||b(i,"src",o),b(i,"alt",g=l[7][l[4]][1]||""),b(i,"title",f=l[7][l[4]][1]||null),V(i,"height","calc(100% - "+(l[7][l[4]][1]?"80px":"60px")+")"),b(i,"class","svelte-ftra1b"),j(i,"with-caption",!!l[7][l[4]][1]),b(c,"class","thumbnails scroll-hide svelte-ftra1b"),b(t,"class","preview svelte-ftra1b"),j(t,"fixed-height",l[3].height!=="auto")},m(r,v){B(r,t,v),L(e,t,null),y(t,n),y(t,i),y(t,s),_&&_.m(t,null),y(t,a),y(t,c);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(c,null);l[24](c),m=!0,u||(d=[R(i,"click",l[21]),R(t,"keydown",l[13])],u=!0)},p(r,v){if((!m||v[0]&144&&!H(i.src,o=r[7][r[4]][0].data))&&b(i,"src",o),(!m||v[0]&144&&g!==(g=r[7][r[4]][1]||""))&&b(i,"alt",g),(!m||v[0]&144&&f!==(f=r[7][r[4]][1]||null))&&b(i,"title",f),(!m||v[0]&144)&&V(i,"height","calc(100% - "+(r[7][r[4]][1]?"80px":"60px")+")"),(!m||v[0]&144)&&j(i,"with-caption",!!r[7][r[4]][1]),r[7][r[4]][1]?_?_.p(r,v):(_=Y(r),_.c(),_.m(t,a)):_&&(_.d(1),_=null),v[0]&400){G=r[7];let w;for(w=0;w<G.length;w+=1){const E=O(r,G,w);k[w]?k[w].p(E,v):(k[w]=Z(E),k[w].c(),k[w].m(c,null))}for(;w<k.length;w+=1)k[w].d(1);k.length=G.length}(!m||v[0]&8)&&j(t,"fixed-height",r[3].height!=="auto")},i(r){m||(p(e.$$.fragment,r),m=!0)},o(r){z(e.$$.fragment,r),m=!1},d(r){r&&C(t),N(e),_&&_.d(),ie(k,r),l[24](null),u=!1,je(d)}}}function Y(l){let t,e=l[7][l[4]][1]+"",n;return{c(){t=A("div"),n=se(e),b(t,"class","caption svelte-ftra1b")},m(i,o){B(i,t,o),y(t,n)},p(i,o){o[0]&144&&e!==(e=i[7][i[4]][1]+"")&&ae(n,e)},d(i){i&&C(t)}}}function Z(l){let t,e,n,i,o,g,f=l[34],s,a;const c=()=>l[22](t,f),m=()=>l[22](null,f);function u(){return l[23](l[34])}return{c(){t=A("button"),e=A("img"),g=D(),H(e.src,n=l[31][0].data)||b(e,"src",n),b(e,"title",i=l[31][1]||null),b(e,"alt",o=l[31][1]||null),b(e,"class","svelte-ftra1b"),b(t,"class","thumbnail-item thumbnail-small svelte-ftra1b"),j(t,"selected",l[4]===l[34])},m(d,_){B(d,t,_),y(t,e),y(t,g),c(),s||(a=R(t,"click",u),s=!0)},p(d,_){l=d,_[0]&128&&!H(e.src,n=l[31][0].data)&&b(e,"src",n),_[0]&128&&i!==(i=l[31][1]||null)&&b(e,"title",i),_[0]&128&&o!==(o=l[31][1]||null)&&b(e,"alt",o),f!==l[34]&&(m(),f=l[34],c()),_[0]&16&&j(t,"selected",l[4]===l[34])},d(d){d&&C(t),m(),s=!1,a()}}}function $(l){let t,e=l[32]+"",n;return{c(){t=A("div"),n=se(e),b(t,"class","caption-label svelte-ftra1b")},m(i,o){B(i,t,o),y(t,n)},p(i,o){o[0]&128&&e!==(e=i[32]+"")&&ae(n,e)},d(i){i&&C(t)}}}function x(l){let t,e,n,i,o,g,f,s,a=l[32]&&$(l);function c(){return l[25](l[34])}return{c(){t=A("button"),e=A("img"),o=D(),a&&a.c(),g=D(),b(e,"alt",n=l[32]||""),H(e.src,i=typeof l[31]=="string"?l[31]:l[31].data)||b(e,"src",i),b(e,"class","svelte-ftra1b"),b(t,"class","thumbnail-item thumbnail-lg svelte-ftra1b"),j(t,"selected",l[4]===l[34])},m(m,u){B(m,t,u),y(t,e),y(t,o),a&&a.m(t,null),y(t,g),f||(s=R(t,"click",c),f=!0)},p(m,u){l=m,u[0]&128&&n!==(n=l[32]||"")&&b(e,"alt",n),u[0]&128&&!H(e.src,i=typeof l[31]=="string"?l[31]:l[31].data)&&b(e,"src",i),l[32]?a?a.p(l,u):(a=$(l),a.c(),a.m(t,g)):a&&(a.d(1),a=null),u[0]&16&&j(t,"selected",l[4]===l[34])},d(m){m&&C(t),a&&a.d(),f=!1,s()}}}function Me(l){let t,e;return t=new oe({}),{c(){I(t.$$.fragment)},m(n,i){L(t,n,i),e=!0},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){z(t.$$.fragment,n),e=!1},d(n){N(t,n)}}}function Te(l){let t,e,n,i,o,g,f;ne(l[19]);let s=l[0]&&Q(l);const a=[Se,Re],c=[];function m(u,d){return u[2]===null||u[7]===null||u[7].length===0?0:1}return e=m(l),n=c[e]=a[e](l),{c(){s&&s.c(),t=D(),n.c(),i=pe()},m(u,d){s&&s.m(u,d),B(u,t,d),c[e].m(u,d),B(u,i,d),o=!0,g||(f=R(window,"resize",l[19]),g=!0)},p(u,d){u[0]?s?(s.p(u,d),d[0]&1&&p(s,1)):(s=Q(u),s.c(),p(s,1),s.m(t.parentNode,t)):s&&(J(),z(s,1,1,()=>{s=null}),K());let _=e;e=m(u),e===_?c[e].p(u,d):(J(),z(c[_],1,1,()=>{c[_]=null}),K(),n=c[e],n?n.p(u,d):(n=c[e]=a[e](u),n.c()),p(n,1),n.m(i.parentNode,i))},i(u){o||(p(s),p(n),o=!0)},o(u){z(s),z(n),o=!1},d(u){s&&s.d(u),u&&C(t),c[e].d(u),u&&C(i),g=!1,f()}}}function Je(l,t,e){let n,i,o,g,f,{show_label:s=!0}=t,{label:a}=t,{root:c=""}=t,{root_url:m=null}=t,{value:u=null}=t,{style:d={grid_cols:[2],object_fit:"cover",height:"auto"}}=t;const _=ye();let G=!0,k=u,r=null,v=null;function w(h){switch(h.code){case"Escape":h.preventDefault(),e(4,r=null);break;case"ArrowLeft":h.preventDefault(),e(4,r=i);break;case"ArrowRight":h.preventDefault(),e(4,r=o);break}}let E=[],q;async function re(h){if(typeof h!="number")return;await ze(),E[h].focus();const{left:T,width:ke}=q.getBoundingClientRect(),{left:we,width:ve}=E[h].getBoundingClientRect(),P=we-T+ve/2-ke/2+q.scrollLeft;q.scrollTo({left:P<0?0:P,behavior:"smooth"})}function fe(h){return e(10,f=Ie(h,["grid_cols","grid_rows","object_fit"]).styles),f+` height: ${h.height}`}let S=0,M=0;function ue(){e(6,M=window.innerHeight)}const _e=()=>e(4,r=null),ce=()=>e(4,r=o);function me(h,T){U[h?"unshift":"push"](()=>{E[T]=h,e(8,E)})}const ge=h=>e(4,r=h);function he(h){U[h?"unshift":"push"](()=>{q=h,e(9,q)})}const be=h=>e(4,r=g?h:r);function de(){S=this.clientHeight,e(5,S)}return l.$$set=h=>{"show_label"in h&&e(0,s=h.show_label),"label"in h&&e(1,a=h.label),"root"in h&&e(14,c=h.root),"root_url"in h&&e(15,m=h.root_url),"value"in h&&e(2,u=h.value),"style"in h&&e(3,d=h.style)},l.$$.update=()=>{l.$$.dirty[0]&65540&&e(16,G=u==null||u.length==0?!0:G),l.$$.dirty[0]&49156&&e(7,n=u===null?null:u.map(h=>Array.isArray(h)?[W(h[0],c,m),h[1]]:[W(h,c,m),null])),l.$$.dirty[0]&196636&&k!==u&&(G?(e(4,r=d.preview?0:null),e(16,G=!1)):e(4,r=r!==null&&u!==null&&r<u.length?r:null),e(17,k=u)),l.$$.dirty[0]&144&&(i=((r??0)+(n?.length??0)-1)%(n?.length??0)),l.$$.dirty[0]&144&&e(12,o=((r??0)+1)%(n?.length??0)),l.$$.dirty[0]&262288&&r!==v&&(e(18,v=r),r!==null&&_("select",{index:r,value:n?.[r][1]})),l.$$.dirty[0]&16&&re(r),l.$$.dirty[0]&96&&e(11,g=M>=S),l.$$.dirty[0]&8&&e(10,f=fe(d))},[s,a,u,d,r,S,M,n,E,q,f,g,o,w,c,m,G,k,v,ue,_e,ce,me,ge,he,be,de]}class Ke extends ee{constructor(t){super(),le(this,t,Je,Te,te,{show_label:0,label:1,root:14,root_url:15,value:2,style:3},null,[-1,-1])}}function Pe(l){let t,e,n,i;const o=[l[0]];let g={};for(let f=0;f<o.length;f+=1)g=Ae(g,o[f]);return t=new Be({props:g}),n=new Ke({props:{label:l[2],value:l[8],style:l[9],show_label:l[1],root:l[3],root_url:l[4]}}),n.$on("select",l[10]),{c(){I(t.$$.fragment),e=D(),I(n.$$.fragment)},m(f,s){L(t,f,s),B(f,e,s),L(n,f,s),i=!0},p(f,s){const a=s&1?Ce(o,[De(f[0])]):{};t.$set(a);const c={};s&4&&(c.label=f[2]),s&256&&(c.value=f[8]),s&512&&(c.style=f[9]),s&2&&(c.show_label=f[1]),s&8&&(c.root=f[3]),s&16&&(c.root_url=f[4]),n.$set(c)},i(f){i||(p(t.$$.fragment,f),p(n.$$.fragment,f),i=!0)},o(f){z(t.$$.fragment,f),z(n.$$.fragment,f),i=!1},d(f){N(t,f),f&&C(e),N(n,f)}}}function Ue(l){let t,e;return t=new Le({props:{visible:l[7],variant:"solid",padding:!1,elem_id:l[5],elem_classes:l[6],disable:typeof l[9].container=="boolean"&&!l[9].container,$$slots:{default:[Pe]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},m(n,i){L(t,n,i),e=!0},p(n,[i]){const o={};i&128&&(o.visible=n[7]),i&32&&(o.elem_id=n[5]),i&64&&(o.elem_classes=n[6]),i&512&&(o.disable=typeof n[9].container=="boolean"&&!n[9].container),i&2847&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){z(t.$$.fragment,n),e=!1},d(n){N(t,n)}}}function Ve(l,t,e){let{loading_status:n}=t,{show_label:i}=t,{label:o}=t,{root:g}=t,{root_url:f}=t,{elem_id:s=""}=t,{elem_classes:a=[]}=t,{visible:c=!0}=t,{value:m=null}=t,{style:u={}}=t;function d(_){Ee.call(this,l,_)}return l.$$set=_=>{"loading_status"in _&&e(0,n=_.loading_status),"show_label"in _&&e(1,i=_.show_label),"label"in _&&e(2,o=_.label),"root"in _&&e(3,g=_.root),"root_url"in _&&e(4,f=_.root_url),"elem_id"in _&&e(5,s=_.elem_id),"elem_classes"in _&&e(6,a=_.elem_classes),"visible"in _&&e(7,c=_.visible),"value"in _&&e(8,m=_.value),"style"in _&&e(9,u=_.style)},[n,i,o,g,f,s,a,c,m,u,d]}class We extends ee{constructor(t){super(),le(this,t,Ve,Ue,te,{loading_status:0,show_label:1,label:2,root:3,root_url:4,elem_id:5,elem_classes:6,visible:7,value:8,style:9})}}const ll=We,tl=["static"],nl=l=>({type:{payload:"Array<{ name: string } | [{ name: string }, string]>"},description:{payload:"list of objects, with filename and optional caption,"}});export{ll as Component,nl as document,tl as modes};
//# sourceMappingURL=index-c7c0605b.js.map
