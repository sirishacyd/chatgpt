{"version":3,"file":"index-1fb86fc7.js","sources":["../../../../node_modules/.pnpm/dequal@2.0.2/node_modules/dequal/lite/index.mjs","../../../../js/table/src/EditableCell.svelte","../../../../js/table/src/Table.svelte","../../../../js/app/src/components/DataFrame/DataFrame.svelte","../../../../js/app/src/components/DataFrame/index.ts"],"sourcesContent":["var has = Object.prototype.hasOwnProperty;\n\nexport function dequal(foo, bar) {\n\tvar ctor, len;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","<script lang=\"ts\">\n\texport let edit: boolean;\n\texport let value: string | number = \"\";\n\texport let el: HTMLInputElement | null;\n\texport let header: boolean = false;\n\texport let datatype:\n\t\t| \"str\"\n\t\t| \"markdown\"\n\t\t| \"html\"\n\t\t| \"number\"\n\t\t| \"bool\"\n\t\t| \"date\" = \"str\";\n</script>\n\n{#if edit}\n\t<input\n\t\tclass:header\n\t\ttabindex=\"-1\"\n\t\t{value}\n\t\tbind:this={el}\n\t\ton:keydown\n\t\ton:blur={({ currentTarget }) => {\n\t\t\tvalue = currentTarget.value;\n\t\t\tcurrentTarget.setAttribute(\"tabindex\", \"-1\");\n\t\t}}\n\t/>\n{/if}\n<span on:dblclick tabindex=\"-1\" role=\"button\" class:edit>\n\t{#if datatype === \"markdown\" || datatype === \"html\"}\n\t\t{@html value}\n\t{:else}\n\t\t{value}\n\t{/if}\n</span>\n\n<style>\n\tinput {\n\t\tposition: absolute;\n\t\ttop: var(--size-2);\n\t\tright: var(--size-2);\n\t\tbottom: var(--size-2);\n\t\tleft: var(--size-2);\n\t\tflex: 1 1 0%;\n\t\ttransform: translateX(-0.1px);\n\t\toutline: none;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t}\n\n\tspan {\n\t\tflex: 1 1 0%;\n\t\toutline: none;\n\t\tpadding: var(--size-2);\n\t}\n\n\t.header {\n\t\ttransform: translateX(0);\n\t\tfont: var(--weight-bold);\n\t}\n\n\t.edit {\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { createEventDispatcher, tick } from \"svelte\";\n\timport { dsvFormat } from \"d3-dsv\";\n\timport { dequal } from \"dequal/lite\";\n\n\timport { Upload } from \"@gradio/upload\";\n\timport { Button } from \"@gradio/button\";\n\timport EditableCell from \"./EditableCell.svelte\";\n\timport type { SelectData } from \"@gradio/utils\";\n\n\ttype Datatype = \"str\" | \"markdown\" | \"html\" | \"number\" | \"bool\" | \"date\";\n\n\texport let datatype: Datatype | Array<Datatype>;\n\texport let label: string | null = null;\n\texport let headers: Array<string> = [];\n\texport let values:\n\t\t| Array<Array<string | number>>\n\t\t| { data: Array<Array<string | number>>; headers: Array<string> } = [[]];\n\texport let col_count: [number, \"fixed\" | \"dynamic\"];\n\texport let row_count: [number, \"fixed\" | \"dynamic\"];\n\n\texport let editable = true;\n\texport let wrap: boolean = false;\n\n\t$: {\n\t\tif (values && !Array.isArray(values)) {\n\t\t\theaders = values.headers;\n\t\t\tvalues =\n\t\t\t\tvalues.data.length === 0\n\t\t\t\t\t? [Array(headers.length).fill(\"\")]\n\t\t\t\t\t: values.data;\n\t\t} else if (values === null) {\n\t\t\tvalues = [Array(headers.length).fill(\"\")];\n\t\t} else {\n\t\t\tvalues = values;\n\t\t}\n\t}\n\n\tconst dispatch = createEventDispatcher<{\n\t\tchange: { data: Array<Array<string | number>>; headers: Array<string> };\n\t\tselect: SelectData;\n\t}>();\n\n\tlet editing: false | string = false;\n\tlet selected: false | string = false;\n\t$: {\n\t\tif (selected !== false) {\n\t\t\tconst loc = selected.split(\"-\");\n\t\t\tconst row = parseInt(loc[0]);\n\t\t\tconst col = parseInt(loc[1]);\n\t\t\tdispatch(\"select\", { index: [row, col], value: data[row][col].value });\n\t\t}\n\t}\n\tlet els: Record<\n\t\tstring,\n\t\t{ cell: null | HTMLTableCellElement; input: null | HTMLInputElement }\n\t> = {};\n\n\ttype Headers = Array<{ value: string; id: string }>;\n\n\tfunction make_headers(_head: Array<string>): Headers {\n\t\tlet _h = _head || [];\n\t\tif (col_count[1] === \"fixed\" && _h.length < col_count[0]) {\n\t\t\tconst fill = Array(col_count[0] - _h.length)\n\t\t\t\t.fill(\"\")\n\t\t\t\t.map((_, i) => `${i + _h.length}`);\n\t\t\t_h = _h.concat(fill);\n\t\t}\n\n\t\tif (!_h || _h.length === 0) {\n\t\t\treturn Array(col_count[0])\n\t\t\t\t.fill(0)\n\t\t\t\t.map((_, i) => {\n\t\t\t\t\tconst _id = `h-${i}`;\n\t\t\t\t\tels[_id] = { cell: null, input: null };\n\t\t\t\t\treturn { id: _id, value: JSON.stringify(i + 1) };\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn _h.map((h, i) => {\n\t\t\t\tconst _id = `h-${i}`;\n\t\t\t\tels[_id] = { cell: null, input: null };\n\t\t\t\treturn { id: _id, value: h ?? \"\" };\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction process_data(_values: Array<Array<string | number>>) {\n\t\tconst data_row_length = _values.length > 0 ? _values.length : row_count[0];\n\n\t\treturn Array(\n\t\t\trow_count[1] === \"fixed\"\n\t\t\t\t? row_count[0]\n\t\t\t\t: data_row_length < row_count[0]\n\t\t\t\t? row_count[0]\n\t\t\t\t: data_row_length\n\t\t)\n\t\t\t.fill(0)\n\t\t\t.map((_, i) =>\n\t\t\t\tArray(col_count[1] === \"fixed\" ? col_count[0] : _values[0].length)\n\t\t\t\t\t.fill(0)\n\t\t\t\t\t.map((_, j) => {\n\t\t\t\t\t\tconst id = `${i}-${j}`;\n\t\t\t\t\t\tels[id] = { input: null, cell: null };\n\t\t\t\t\t\treturn { value: _values?.[i]?.[j] ?? \"\", id };\n\t\t\t\t\t})\n\t\t\t);\n\t}\n\n\tlet _headers = make_headers(headers);\n\tlet old_headers: Array<string> | undefined;\n\n\t$: {\n\t\tif (!dequal(headers, old_headers)) {\n\t\t\t_headers = make_headers(headers);\n\n\t\t\told_headers = headers;\n\t\t\trefresh_focus();\n\t\t}\n\t}\n\t$: if (!dequal(values, old_val)) {\n\t\tdata = process_data(values as Array<Array<string | number>>);\n\t\told_val = values as Array<Array<string | number>>;\n\n\t\trefresh_focus();\n\t}\n\n\tasync function refresh_focus() {\n\t\tif (typeof editing === \"string\") {\n\t\t\tawait tick();\n\t\t\tels[editing as string]?.input?.focus();\n\t\t} else if (typeof selected === \"string\") {\n\t\t\tawait tick();\n\t\t\tels[selected as string]?.input?.focus();\n\t\t}\n\t}\n\n\tlet data: Array<Array<{ id: string; value: string | number }>> = [[]];\n\n\tlet old_val: undefined | Array<Array<string | number>> = undefined;\n\n\t$: _headers &&\n\t\tdispatch(\"change\", {\n\t\t\tdata: data.map((r) => r.map(({ value }) => value)),\n\t\t\theaders: _headers.map((h) => h.value)\n\t\t});\n\n\tfunction get_sort_status(\n\t\tname: string,\n\t\tsort: number,\n\t\tdirection?: SortDirection\n\t) {\n\t\tif (!sort) return \"none\";\n\t\tif (headers[sort] === name) {\n\t\t\tif (direction === \"asc\") return \"ascending\";\n\t\t\tif (direction === \"des\") return \"descending\";\n\t\t}\n\t}\n\n\tfunction get_current_indices(id: string) {\n\t\treturn data.reduce(\n\t\t\t(acc, arr, i) => {\n\t\t\t\tconst j = arr.reduce((acc, data, j) => (id === data.id ? j : acc), -1);\n\n\t\t\t\treturn j === -1 ? acc : [i, j];\n\t\t\t},\n\t\t\t[-1, -1]\n\t\t);\n\t}\n\n\tasync function start_edit(id: string, clear?: boolean) {\n\t\tif (!editable || editing === id) return;\n\n\t\tif (clear) {\n\t\t\tconst [i, j] = get_current_indices(id);\n\n\t\t\tdata[i][j].value = \"\";\n\t\t}\n\t\tediting = id;\n\t\tawait tick();\n\t\tconst { input } = els[id];\n\t\tinput?.focus();\n\t}\n\n\tasync function handle_keydown(\n\t\tevent: KeyboardEvent,\n\t\ti: number,\n\t\tj: number,\n\t\tid: string\n\t) {\n\t\tlet is_data;\n\n\t\tswitch (event.key) {\n\t\t\tcase \"ArrowRight\":\n\t\t\t\tif (editing) break;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tis_data = data[i][j + 1];\n\t\t\t\tselected = is_data ? is_data.id : selected;\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowLeft\":\n\t\t\t\tif (editing) break;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tis_data = data[i][j - 1];\n\t\t\t\tselected = is_data ? is_data.id : selected;\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowDown\":\n\t\t\t\tif (editing) break;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tis_data = data[i + 1];\n\t\t\t\tselected = is_data ? is_data[j].id : selected;\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowUp\":\n\t\t\t\tif (editing) break;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tis_data = data[i - 1];\n\t\t\t\tselected = is_data ? is_data[j].id : selected;\n\t\t\t\tbreak;\n\t\t\tcase \"Escape\":\n\t\t\t\tif (!editable) break;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tselected = editing;\n\t\t\t\tediting = false;\n\t\t\t\tbreak;\n\t\t\tcase \"Enter\":\n\t\t\t\tif (!editable) break;\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif (event.shiftKey) {\n\t\t\t\t\tadd_row(i);\n\t\t\t\t\tawait tick();\n\t\t\t\t\tconst [pos] = get_current_indices(id);\n\t\t\t\t\tselected = data[pos + 1][j].id;\n\t\t\t\t} else {\n\t\t\t\t\tif (editing === id) {\n\t\t\t\t\t\tediting = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstart_edit(id);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase \"Backspace\":\n\t\t\t\tif (!editable) break;\n\t\t\t\tif (!editing) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tdata[i][j].value = \"\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Delete\":\n\t\t\t\tif (!editable) break;\n\t\t\t\tif (!editing) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tdata[i][j].value = \"\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Tab\":\n\t\t\t\tlet direction = event.shiftKey ? -1 : 1;\n\n\t\t\t\tlet is_data_x = data[i][j + direction];\n\t\t\t\tlet is_data_y =\n\t\t\t\t\tdata?.[i + direction]?.[direction > 0 ? 0 : _headers.length - 1];\n\t\t\t\tlet _selected = is_data_x || is_data_y;\n\t\t\t\tif (_selected) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tselected = _selected ? _selected.id : selected;\n\t\t\t\t}\n\t\t\t\tediting = false;\n\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (\n\t\t\t\t\t(!editing || (editing && editing !== id)) &&\n\t\t\t\t\tevent.key.length === 1\n\t\t\t\t) {\n\t\t\t\t\tstart_edit(id, true);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tasync function handle_cell_click(id: string) {\n\t\tif (editing === id) return;\n\t\tif (selected === id) return;\n\t\tediting = false;\n\t\tselected = id;\n\t}\n\n\tasync function set_focus(id: string | boolean, type: \"edit\" | \"select\") {\n\t\tif (type === \"edit\" && typeof id == \"string\") {\n\t\t\tawait tick();\n\t\t\tels[id].input?.focus();\n\t\t}\n\n\t\tif (\n\t\t\ttype === \"edit\" &&\n\t\t\ttypeof id == \"boolean\" &&\n\t\t\ttypeof selected === \"string\"\n\t\t) {\n\t\t\tlet cell = els[selected]?.cell;\n\t\t\tawait tick();\n\t\t\tcell?.focus();\n\t\t}\n\n\t\tif (type === \"select\" && typeof id == \"string\") {\n\t\t\tconst { cell } = els[id];\n\t\t\t// cell?.setAttribute(\"tabindex\", \"0\");\n\t\t\tawait tick();\n\t\t\tcell?.focus();\n\t\t}\n\t}\n\n\t$: set_focus(editing, \"edit\");\n\t$: set_focus(selected, \"select\");\n\n\ttype SortDirection = \"asc\" | \"des\";\n\tlet sort_direction: SortDirection;\n\tlet sort_by: number;\n\n\tfunction sort(col: number, dir: SortDirection) {\n\t\tif (dir === \"asc\") {\n\t\t\tdata = data.sort((a, b) => (a[col].value < b[col].value ? -1 : 1));\n\t\t} else if (dir === \"des\") {\n\t\t\tdata = data.sort((a, b) => (a[col].value > b[col].value ? -1 : 1));\n\t\t}\n\t}\n\n\tfunction handle_sort(col: number) {\n\t\tif (typeof sort_by !== \"number\" || sort_by !== col) {\n\t\t\tsort_direction = \"asc\";\n\t\t\tsort_by = col;\n\t\t} else {\n\t\t\tif (sort_direction === \"asc\") {\n\t\t\t\tsort_direction = \"des\";\n\t\t\t} else if (sort_direction === \"des\") {\n\t\t\t\tsort_direction = \"asc\";\n\t\t\t}\n\t\t}\n\n\t\tsort(col, sort_direction);\n\t}\n\n\tlet header_edit: string | false;\n\n\tfunction update_headers_data() {\n\t\tif (typeof selected === \"string\") {\n\t\t\tconst new_header = els[selected].input?.value;\n\t\t\tif (_headers.find((i) => i.id === selected)) {\n\t\t\t\tlet obj = _headers.find((i) => i.id === selected);\n\t\t\t\tif (new_header) obj![\"value\"] = new_header;\n\t\t\t} else {\n\t\t\t\tif (new_header) _headers.push({ id: selected, value: new_header });\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function edit_header(_id: string, select?: boolean) {\n\t\tif (!editable || col_count[1] !== \"dynamic\" || editing === _id) return;\n\t\theader_edit = _id;\n\t\tawait tick();\n\t\tels[_id].input?.focus();\n\t\tif (select) els[_id].input?.select();\n\t}\n\n\tfunction end_header_edit(event: KeyboardEvent) {\n\t\tif (!editable) return;\n\n\t\tswitch (event.key) {\n\t\t\tcase \"Escape\":\n\t\t\tcase \"Enter\":\n\t\t\tcase \"Tab\":\n\t\t\t\tevent.preventDefault();\n\t\t\t\tselected = header_edit;\n\t\t\t\theader_edit = false;\n\t\t\t\tupdate_headers_data();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tfunction add_row(index?: number) {\n\t\tif (row_count[1] !== \"dynamic\") return;\n\t\tdata.splice(\n\t\t\tindex ? index + 1 : data.length,\n\t\t\t0,\n\t\t\tArray(data[0].length)\n\t\t\t\t.fill(0)\n\t\t\t\t.map((_, i) => {\n\t\t\t\t\tconst _id = `${data.length}-${i}`;\n\t\t\t\t\tels[_id] = { cell: null, input: null };\n\t\t\t\t\treturn { id: _id, value: \"\" };\n\t\t\t\t})\n\t\t);\n\n\t\tdata = data;\n\t}\n\n\tasync function add_col() {\n\t\tif (col_count[1] !== \"dynamic\") return;\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tconst _id = `${i}-${data[i].length}`;\n\t\t\tels[_id] = { cell: null, input: null };\n\t\t\tdata[i].push({ id: _id, value: \"\" });\n\t\t}\n\n\t\tconst _id = `h-${_headers.length}`;\n\t\tels[_id] = { cell: null, input: null };\n\t\t_headers.push({ id: _id, value: `Header ${_headers.length + 1}` });\n\n\t\tdata = data;\n\t\t_headers = _headers;\n\n\t\tawait tick();\n\n\t\tedit_header(_id, true);\n\t}\n\n\tfunction handle_click_outside(event: Event) {\n\t\tif (typeof editing === \"string\" && els[editing]) {\n\t\t\tif (\n\t\t\t\tels[editing].cell !== event.target &&\n\t\t\t\t!els[editing].cell?.contains(event?.target as Node | null)\n\t\t\t) {\n\t\t\t\tediting = false;\n\t\t\t}\n\t\t}\n\n\t\tif (typeof header_edit === \"string\" && els[header_edit]) {\n\t\t\tif (\n\t\t\t\tels[header_edit].cell !== event.target &&\n\t\t\t\t!els[header_edit].cell?.contains(event.target as Node | null)\n\t\t\t) {\n\t\t\t\tselected = header_edit;\n\t\t\t\theader_edit = false;\n\t\t\t\tupdate_headers_data();\n\t\t\t\theader_edit = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction guess_delimitaor(text: string, possibleDelimiters: Array<string>) {\n\t\treturn possibleDelimiters.filter(weedOut);\n\n\t\tfunction weedOut(delimiter: string) {\n\t\t\tvar cache = -1;\n\t\t\treturn text.split(\"\\n\").every(checkLength);\n\n\t\t\tfunction checkLength(line: string) {\n\t\t\t\tif (!line) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tvar length = line.split(delimiter).length;\n\t\t\t\tif (cache < 0) {\n\t\t\t\t\tcache = length;\n\t\t\t\t}\n\t\t\t\treturn cache === length && length > 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction data_uri_to_blob(data_uri: string) {\n\t\tconst byte_str = atob(data_uri.split(\",\")[1]);\n\t\tconst mime_str = data_uri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n\n\t\tconst ab = new ArrayBuffer(byte_str.length);\n\t\tconst ia = new Uint8Array(ab);\n\n\t\tfor (let i = 0; i < byte_str.length; i++) {\n\t\t\tia[i] = byte_str.charCodeAt(i);\n\t\t}\n\n\t\treturn new Blob([ab], { type: mime_str });\n\t}\n\n\tfunction blob_to_string(blob: Blob) {\n\t\tconst reader = new FileReader();\n\n\t\tfunction handle_read(e: ProgressEvent<FileReader>) {\n\t\t\tif (!e?.target?.result || typeof e.target.result !== \"string\") return;\n\n\t\t\tconst [delimiter] = guess_delimitaor(e.target.result, [\",\", \"\\t\"]);\n\n\t\t\tconst [head, ...rest] = dsvFormat(delimiter).parseRows(e.target.result);\n\n\t\t\t_headers = make_headers(\n\t\t\t\tcol_count[1] === \"fixed\" ? head.slice(0, col_count[0]) : head\n\t\t\t);\n\n\t\t\tvalues = rest;\n\t\t\treader.removeEventListener(\"loadend\", handle_read);\n\t\t}\n\n\t\treader.addEventListener(\"loadend\", handle_read);\n\n\t\treader.readAsText(blob);\n\t}\n\n\tlet dragging = false;\n</script>\n\n<svelte:window\n\ton:click={handle_click_outside}\n\ton:touchstart={handle_click_outside}\n/>\n\n<div class:label={label && label.length !== 0}>\n\t{#if label && label.length !== 0}\n\t\t<p>\n\t\t\t{label}\n\t\t</p>\n\t{/if}\n\t<div class=\"table-wrap scroll-hide\" class:dragging class:no-wrap={!wrap}>\n\t\t<Upload\n\t\t\tflex={false}\n\t\t\tcenter={false}\n\t\t\tboundedheight={false}\n\t\t\tdisable_click={true}\n\t\t\ton:load={(e) => blob_to_string(data_uri_to_blob(e.detail.data))}\n\t\t\tbind:dragging\n\t\t>\n\t\t\t<table class:dragging>\n\t\t\t\t{#if label && label.length !== 0}\n\t\t\t\t\t<caption class=\"sr-only\">{label}</caption>\n\t\t\t\t{/if}\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t{#each _headers as { value, id }, i (id)}\n\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\tbind:this={els[id].cell}\n\t\t\t\t\t\t\t\tclass:editing={header_edit === id}\n\t\t\t\t\t\t\t\taria-sort={get_sort_status(value, sort_by, sort_direction)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"cell-wrap\">\n\t\t\t\t\t\t\t\t\t<EditableCell\n\t\t\t\t\t\t\t\t\t\t{value}\n\t\t\t\t\t\t\t\t\t\tbind:el={els[id].input}\n\t\t\t\t\t\t\t\t\t\tedit={header_edit === id}\n\t\t\t\t\t\t\t\t\t\ton:keydown={end_header_edit}\n\t\t\t\t\t\t\t\t\t\ton:dblclick={() => edit_header(id)}\n\t\t\t\t\t\t\t\t\t\theader\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass:sorted={sort_by === i}\n\t\t\t\t\t\t\t\t\t\tclass:des={sort_by === i && sort_direction === \"des\"}\n\t\t\t\t\t\t\t\t\t\tclass=\"sort-button {sort_direction} \"\n\t\t\t\t\t\t\t\t\t\ton:click={() => handle_sort(i)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"1em\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"1em\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 9 7\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z\" />\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\n\t\t\t\t<tbody>\n\t\t\t\t\t{#each data as row, i (row)}\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t{#each row as { value, id }, j (id)}\n\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t\t\tbind:this={els[id].cell}\n\t\t\t\t\t\t\t\t\ton:touchstart={() => start_edit(id)}\n\t\t\t\t\t\t\t\t\ton:click={() => handle_cell_click(id)}\n\t\t\t\t\t\t\t\t\ton:dblclick={() => start_edit(id)}\n\t\t\t\t\t\t\t\t\ton:keydown={(e) => handle_keydown(e, i, j, id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass:border-transparent={selected !== id}\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-wrap\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<EditableCell\n\t\t\t\t\t\t\t\t\t\t\tbind:value\n\t\t\t\t\t\t\t\t\t\t\tbind:el={els[id].input}\n\t\t\t\t\t\t\t\t\t\t\tedit={editing === id}\n\t\t\t\t\t\t\t\t\t\t\tdatatype={Array.isArray(datatype)\n\t\t\t\t\t\t\t\t\t\t\t\t? datatype[j]\n\t\t\t\t\t\t\t\t\t\t\t\t: datatype}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t{/each}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</Upload>\n\t</div>\n\t{#if editable}\n\t\t<div class=\"controls-wrap\">\n\t\t\t{#if row_count[1] === \"dynamic\"}\n\t\t\t\t<span class=\"button-wrap\">\n\t\t\t\t\t<Button variant=\"secondary\" size=\"sm\" on:click={() => add_row()}>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\t\twidth=\"1em\"\n\t\t\t\t\t\t\theight=\"1em\"\n\t\t\t\t\t\t\tpreserveAspectRatio=\"xMidYMid meet\"\n\t\t\t\t\t\t\tviewBox=\"0 0 32 32\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\td=\"M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\tNew row\n\t\t\t\t\t</Button>\n\t\t\t\t</span>\n\t\t\t{/if}\n\t\t\t{#if col_count[1] === \"dynamic\"}\n\t\t\t\t<span class=\"button-wrap\">\n\t\t\t\t\t<Button variant=\"secondary\" size=\"sm\" on:click={add_col}>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\t\twidth=\"1em\"\n\t\t\t\t\t\t\theight=\"1em\"\n\t\t\t\t\t\t\tpreserveAspectRatio=\"xMidYMid meet\"\n\t\t\t\t\t\t\tviewBox=\"0 0 32 32\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\td=\"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\tNew column\n\t\t\t\t\t</Button>\n\t\t\t\t</span>\n\t\t\t{/if}\n\t\t</div>\n\t{/if}\n</div>\n\n<style>\n\t.button-wrap:hover svg {\n\t\tcolor: var(--color-accent);\n\t}\n\n\t.button-wrap svg {\n\t\tmargin-right: var(--size-1);\n\t\tmargin-left: -5px;\n\t}\n\t.label {\n\t\tmargin-top: var(--size-6);\n\t}\n\n\t.label p {\n\t\tposition: relative;\n\t\tz-index: var(--layer-4);\n\t\tmargin-bottom: var(--size-2);\n\t\tcolor: var(--block-label-text-color);\n\t\tfont-size: var(--block-label-text-size);\n\t}\n\n\t.table-wrap {\n\t\tposition: relative;\n\t\ttransition: 150ms;\n\t\tborder: 1px solid var(--border-color-primary);\n\t\tborder-radius: var(--table-radius);\n\t\toverflow-x: scroll;\n\t\toverflow-y: hidden;\n\t}\n\n\t.dragging {\n\t\tborder-color: var(--color-accent);\n\t}\n\n\t.no-wrap {\n\t\twhite-space: nowrap;\n\t}\n\n\ttable {\n\t\ttransition: 150ms;\n\t\twidth: var(--size-full);\n\t\ttable-layout: auto;\n\t\toverflow: hidden;\n\t\tcolor: var(--body-text-color);\n\t\tfont-size: var(--input-text-size);\n\t\tline-height: var(--line-md);\n\t\tfont-family: var(--font-mono);\n\t}\n\n\ttable.dragging {\n\t\topacity: 0.4;\n\t}\n\n\tthead {\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tz-index: var(--layer-1);\n\t\tbox-shadow: var(--shadow-drop);\n\t}\n\n\ttr {\n\t\tborder-bottom: 1px solid var(--border-color-primary);\n\t\ttext-align: left;\n\t}\n\n\ttr > * + * {\n\t\tborder-right-width: 0px;\n\t\tborder-left-width: 1px;\n\t\tborder-style: solid;\n\t\tborder-color: var(--border-color-primary);\n\t}\n\n\tth,\n\ttd {\n\t\t--ring-color: transparent;\n\t\tposition: relative;\n\t\toutline: none;\n\t\tbox-shadow: inset 0 0 0 1px var(--ring-color);\n\t\tpadding: 0;\n\t}\n\n\tth:first-child {\n\t\tborder-top-left-radius: var(--table-radius);\n\t}\n\n\tth:last-child {\n\t\tborder-top-right-radius: var(--table-radius);\n\t}\n\n\tth:focus-within,\n\ttd:focus-within {\n\t\t--ring-color: var(--color-accent);\n\t}\n\n\ttr:last-child td:first-child {\n\t\tborder-bottom-left-radius: var(--table-radius);\n\t}\n\n\ttr:last-child td:last-child {\n\t\tborder-bottom-right-radius: var(--table-radius);\n\t}\n\n\ttr th {\n\t\tbackground: var(--table-even-background-fill);\n\t}\n\n\tth svg {\n\t\tfill: currentColor;\n\t\tfont-size: 10px;\n\t}\n\n\t.sort-button {\n\t\tdisplay: flex;\n\t\tflex: none;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\ttransition: 150ms;\n\t\tcursor: pointer;\n\t\tpadding: var(--size-2);\n\t\tcolor: var(--body-text-color-subdued);\n\t\tline-height: var(--text-sm);\n\t}\n\n\t.sort-button:hover {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.des {\n\t\ttransform: scaleY(-1);\n\t}\n\n\t.sort-button.sorted {\n\t\tcolor: var(--color-accent);\n\t}\n\n\ttbody {\n\t\toverflow-y: scroll;\n\t}\n\n\ttbody > tr:last-child {\n\t\tborder: none;\n\t}\n\n\ttbody > tr:nth-child(even) {\n\t\tbackground: var(--table-even-background-fill);\n\t}\n\n\ttbody > tr:nth-child(odd) {\n\t\tbackground: var(--table-odd-background-fill);\n\t}\n\n\ttbody > tr:nth-child(odd):focus {\n\t\tbackground: var(--background-fill-primary);\n\t}\n\n\t.editing {\n\t\tbackground: var(--table-editing);\n\t}\n\n\t.cell-wrap {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\toutline: none;\n\t\theight: var(--size-full);\n\t\tmin-height: var(--size-9);\n\t}\n\n\t.controls-wrap {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tpadding-top: var(--size-2);\n\t}\n\n\t.controls-wrap > * + * {\n\t\tmargin-left: var(--size-1);\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { Table } from \"@gradio/table\";\n\timport StatusTracker from \"../StatusTracker/StatusTracker.svelte\";\n\timport type { LoadingStatus } from \"../StatusTracker/types\";\n\timport { createEventDispatcher, tick } from \"svelte\";\n\n\ttype Headers = Array<string>;\n\ttype Data = Array<Array<string | number>>;\n\ttype Datatype = \"str\" | \"markdown\" | \"html\" | \"number\" | \"bool\" | \"date\";\n\n\texport let headers: Headers = [];\n\texport let elem_id: string = \"\";\n\texport let elem_classes: Array<string> = [];\n\texport let visible: boolean = true;\n\texport let value: { data: Data; headers: Headers } = {\n\t\tdata: [[\"\", \"\", \"\"]],\n\t\theaders: [\"1\", \"2\", \"3\"]\n\t};\n\texport let mode: \"static\" | \"dynamic\";\n\texport let col_count: [number, \"fixed\" | \"dynamic\"];\n\texport let row_count: [number, \"fixed\" | \"dynamic\"];\n\texport let label: string | null = null;\n\texport let wrap: boolean;\n\texport let datatype: Datatype | Array<Datatype>;\n\n\tconst dispatch = createEventDispatcher();\n\n\texport let loading_status: LoadingStatus;\n\n\tasync function handle_change(detail: {\n\t\tdata: Array<Array<string | number>>;\n\t\theaders: Array<string>;\n\t}) {\n\t\tvalue = detail;\n\t\tawait tick();\n\t\tdispatch(\"change\", detail);\n\t}\n</script>\n\n<div id={elem_id} class={elem_classes.join(\" \")} class:hide={!visible}>\n\t<StatusTracker {...loading_status} />\n\t<Table\n\t\t{label}\n\t\t{row_count}\n\t\t{col_count}\n\t\tvalues={value}\n\t\t{headers}\n\t\ton:change={({ detail }) => handle_change(detail)}\n\t\ton:select\n\t\teditable={mode === \"dynamic\"}\n\t\t{wrap}\n\t\t{datatype}\n\t/>\n</div>\n\n<style>\n\tdiv {\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t}\n\n\t.hide {\n\t\tdisplay: none;\n\t}\n</style>\n","export { default as Component } from \"./DataFrame.svelte\";\nexport const modes = [\"static\", \"dynamic\"];\n\nexport const document = (config: Record<string, any>) => ({\n\ttype: {\n\t\tpayload: \"{ data: Array<Array<string | number>>; headers: Array<string> }\"\n\t},\n\tdescription: {\n\t\tpayload: \"an object with an array of data and an array of headers\"\n\t},\n\texample_data: config.value\n});\n"],"names":["has","dequal","foo","bar","ctor","len","insert","target","input","anchor","ctx","create_if_block_1","create_if_block","span","edit","$$props","value","el","header","datatype","$$value","currentTarget","p","caption","toggle_class","div0","attr","th","th_aria_sort_value","append","div1","svg","path","dirty","editablecell_changes","current","div","td","tr","i","if_block","create_if_block_3","table","thead","tbody","create_if_block_2","if_block0","create_if_block_4","guess_delimitaor","text","possibleDelimiters","weedOut","delimiter","cache","checkLength","line","length","data_uri_to_blob","data_uri","byte_str","mime_str","ab","ia","label","headers","values","col_count","row_count","editable","wrap","dispatch","createEventDispatcher","editing","selected","els","make_headers","_head","_h","fill","_","_id","h","process_data","_values","data_row_length","j","id","_headers","old_headers","refresh_focus","tick","data","old_val","get_sort_status","name","sort","direction","get_current_indices","acc","arr","start_edit","clear","$$invalidate","handle_keydown","event","is_data","add_row","pos","is_data_x","is_data_y","_selected","handle_cell_click","set_focus","type","cell","sort_direction","sort_by","col","dir","a","b","handle_sort","header_edit","update_headers_data","new_header","obj","edit_header","select","end_header_edit","index","add_col","handle_click_outside","blob_to_string","blob","reader","handle_read","e","head","rest","dsvFormat","dragging","dblclick_handler","click_handler","touchstart_handler","click_handler_1","dblclick_handler_1","loc","row","r","table_changes","elem_id","elem_classes","visible","mode","loading_status","handle_change","detail","modes","document","config"],"mappings":"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","x_google_ignoreList":[0]}